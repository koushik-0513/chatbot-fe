/*! For license information please see chatbot-embed.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ChatbotEmbed=e():t.ChatbotEmbed=e()}(this,()=>(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r(){var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,i,o,r){var a=i&&i.prototype instanceof s?i:s,l=Object.create(a.prototype);return c(l,"_invoke",function(n,i,o){var r,c,a,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return r=e,c=0,a=t,d.n=n,u}};function h(n,i){for(c=n,a=i,e=0;!f&&s&&!o&&e<l.length;e++){var o,r=l[e],h=d.p,p=r[2];n>3?(o=p===i)&&(a=r[(c=r[4])?5:(c=3,3)],r[4]=r[5]=t):r[0]<=h&&((o=n<2&&h<r[1])?(c=0,d.v=i,d.n=r[1]):h<p&&(o=n<3||r[0]>i||i>p)&&(r[4]=n,r[5]=i,d.n=p,c=0))}if(o||n>1)return u;throw f=!0,i}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,p),c=l,a=p;(e=c<2?t:a)||!f;){r||(c?c<3?(c>1&&(d.n=-1),h(c,a)):d.n=a:d.v=a);try{if(s=2,r){if(c||(o="next"),e=r[o]){if(!(e=e.call(r,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,c<2&&(c=0)}else 1===c&&(e=r.return)&&e.call(r),c<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),c=1);r=t}else if((e=(f=d.n<0)?a:n.call(i,d))!==u)break}catch(e){r=t,c=1,a=e}finally{s=1}}return{value:e,done:f}}}(n,o,r),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var d=[][i]?e(e([][i]())):(c(e={},i,function(){return this}),e),h=f.prototype=s.prototype=Object.create(d);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(h),t}return l.prototype=f,c(h,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(h),c(h,o,"Generator"),c(h,i,function(){return this}),c(h,"toString",function(){return"[object Generator]"}),(r=function(){return{w:a,m:p}})()}function c(t,e,n,i){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,i){function r(e,n){c(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[e]=n:(r("next",0),r("throw",1),r("return",2))},c(t,e,n,i)}function a(t,e,n,i,o,r,c){try{var a=t[r](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(i,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var r=t.apply(e,n);function c(t){a(r,i,o,c,u,"next",t)}function u(t){a(r,i,o,c,u,"throw",t)}c(void 0)})}}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,f(i.key),i)}}function l(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}t.r(e),t.d(e,{ChatbotEmbedScript:()=>d});var d=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"widgetElement",null),l(this,"config",{}),l(this,"isInitialized",!1),this.scriptUrl=e},e=[{key:"loadScript",value:(c=u(r().m(function t(){var e=this;return r().w(function(t){for(;;)if(0===t.n)return t.a(2,new Promise(function(t,n){if(document.querySelector('script[src="'.concat(e.scriptUrl,'"]')))t();else{var i=document.createElement("script");i.src=e.scriptUrl,i.type="module",i.async=!0,i.onload=function(){return t()},i.onerror=function(){return n(new Error("Failed to load chatbot script"))},document.head.appendChild(i)}}))},t)})),function(){return c.apply(this,arguments)})},{key:"loadStyles",value:(i=u(r().m(function t(){var e=this;return r().w(function(t){for(;;)if(0===t.n)return t.a(2,new Promise(function(t,n){if(document.querySelector('link[href*="chatbot-widget"]'))t();else{var i=document.createElement("link");i.rel="stylesheet",i.href=e.scriptUrl.replace(".js",".css"),i.onload=function(){return t()},i.onerror=function(){return t()},document.head.appendChild(i)}}))},t)})),function(){return i.apply(this,arguments)})},{key:"createWidgetElement",value:function(){var t=document.createElement("chatbot-widget");return this.config.apiUrl&&t.setAttribute("api-url",this.config.apiUrl),this.config.position&&t.setAttribute("position",this.config.position),this.config.theme&&t.setAttribute("theme",this.config.theme),this.config.primaryColor&&t.setAttribute("primary-color",this.config.primaryColor),this.config.buttonColor&&t.setAttribute("button-color",this.config.buttonColor),this.config.buttonTextColor&&t.setAttribute("button-text-color",this.config.buttonTextColor),this.config.width&&t.setAttribute("width",this.config.width),this.config.height&&t.setAttribute("height",this.config.height),this.config.zIndex&&t.setAttribute("z-index",this.config.zIndex.toString()),void 0!==this.config.showWelcomeMessage&&t.setAttribute("show-welcome",this.config.showWelcomeMessage.toString()),this.config.welcomeMessage&&t.setAttribute("welcome-message",this.config.welcomeMessage),t}},{key:"init",value:(n=u(r().m(function t(){var e,n,i=arguments;return r().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:{},!this.isInitialized){t.n=1;break}return console.warn("Chatbot widget is already initialized"),t.a(2);case 1:return this.config=o({},e),t.p=2,t.n=3,Promise.all([this.loadScript(),this.loadStyles()]);case 3:return t.n=4,customElements.whenDefined("chatbot-widget");case 4:this.widgetElement=this.createWidgetElement(),document.body.appendChild(this.widgetElement),this.isInitialized=!0,console.log("Chatbot widget initialized successfully"),t.n=6;break;case 5:throw t.p=5,n=t.v,console.error("Failed to initialize chatbot widget:",n),n;case 6:return t.a(2)}},t,this,[[2,5]])})),function(){return n.apply(this,arguments)})},{key:"destroy",value:function(){this.widgetElement&&this.widgetElement.parentNode&&(this.widgetElement.parentNode.removeChild(this.widgetElement),this.widgetElement=null),this.isInitialized=!1,console.log("Chatbot widget destroyed")}},{key:"updateConfig",value:function(t){this.isInitialized?(this.config=o(o({},this.config),t),this.widgetElement&&"updateConfig"in this.widgetElement&&this.widgetElement.updateConfig(t)):console.warn("Chatbot widget is not initialized")}},{key:"show",value:function(){this.isInitialized?this.widgetElement&&(this.widgetElement.style.display="block"):console.warn("Chatbot widget is not initialized")}},{key:"hide",value:function(){this.isInitialized?this.widgetElement&&(this.widgetElement.style.display="none"):console.warn("Chatbot widget is not initialized")}}],e&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,i,c}();function h(){var t=document.currentScript;if(t){var e={};["api-url","position","theme","primary-color","button-color","button-text-color","width","height","z-index","show-welcome","welcome-message"].forEach(function(n){var i=t.getAttribute("data-".concat(n));if(i){var o=n.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});e[o]="zIndex"===o?parseInt(i):"showWelcomeMessage"===o?"true"===i:i}});var n=t.src||t.getAttribute("data-script-url");if(n){var i=new d(n);i.init(e),window.ChatbotWidget=i}else console.error("Chatbot widget: script URL not found")}}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h(),e})());